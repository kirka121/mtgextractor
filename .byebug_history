c
card_types = page_html.match(card_types_regex)[0]
card_types = page_html.match(card_types_regex)
card_types_regex = /Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>/
card_types = page_html.match(card_types_regex)
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+Aether\\ Mutation.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
card_types = page_html.match(card_types_regex)
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+Aether\\ *Mutation.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
card_types = page_html.match(card_types_regex)
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+Æther\\ *Mutation.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
regex_name(name)
card_types = page_html.match(card_types_regex)
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+Aether Mutation.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
card_types_regex
card_types = page_html.match(card_types_regex)[1]
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+Aether Mutation.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
card_types_regex = /(?:Card Name:<\/div>\s+<div[^>]*>\s+#{regex_name(name)}.+?Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>)/
multipart_card?
card_types = page_html.match(card_types_regex)[1]
 card_types.split("—").collect {|type| type.strip.split(/\s+/)}.flatten
page_html.match(card_types_regex)
card_types_regex = /Types:<\/div>\s+<div[^>]*>\s+([^>]+)<\/div>/
page_html.match(card_types_regex)
card_types_regex
n
name = extract_name(page_html)
multipart_card?
page_html
